{"ast":null,"code":"function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport axios from \"axios\";\nimport { STATUS_CODE, BASE_URL } from \"./Constants\";\nimport { toast } from \"react-toastify\";\n\n// Request Methods\nvar METHOD = {\n  GET: \"get\",\n  POST: \"post\",\n  PUT: \"put\",\n  DELETE: \"delete\"\n};\n\n/*\n* API controller for handling the request\n*/\nvar API = /*#__PURE__*/function () {\n  function API() {\n    _classCallCheck(this, API);\n    this.isLoggedIn = false;\n    this.userData = {};\n    this.userToken = null;\n    this.baseURL = BASE_URL;\n  }\n  return _createClass(API, [{\n    key: \"get\",\n    value: function get(url, data) {\n      var _this = this;\n      return new Promise(function (resolve, reject) {\n        _this.api(METHOD.GET, url, data).then(function (response) {\n          return resolve(response);\n        })[\"catch\"](function (error) {\n          console.error(\"GET request error:\", error);\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"post\",\n    value: function post(url, data) {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        _this2.api(METHOD.POST, url, data).then(function (response) {\n          return resolve(response);\n        })[\"catch\"](function (error) {\n          console.error(\"POST request error:\", error);\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"put\",\n    value: function put(url, data) {\n      var _this3 = this;\n      return new Promise(function (resolve, reject) {\n        _this3.api(METHOD.PUT, url, data).then(function (response) {\n          return resolve(response);\n        })[\"catch\"](function (error) {\n          console.error(\"PUT request error:\", error);\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(url, data) {\n      var _this4 = this;\n      return new Promise(function (resolve, reject) {\n        _this4.api(METHOD.DELETE, url, data).then(function (response) {\n          return resolve(response);\n        })[\"catch\"](function (error) {\n          console.error(\"DELETE request error:\", error);\n          reject(error);\n        });\n      });\n    }\n\n    // Main function to hold the axios request params\n  }, {\n    key: \"api\",\n    value: function api(method, url, data) {\n      var _this5 = this;\n      return new Promise(function (resolve, reject) {\n        var axiosConfig = {\n          method: method,\n          url: _this5.baseURL + url,\n          headers: _this5.setHeaders(data)\n        };\n        if (data) {\n          axiosConfig.data = data;\n        }\n        axios(axiosConfig).then(function (response) {\n          if (response && response.status === STATUS_CODE.INTERNAL_SERVER_ERROR) {\n            toast.error(\"Something went wrong!!\");\n          } else {\n            resolve(response);\n            // Uncomment if you want to show a success toast\n            // if (response) {\n            //   toast.success(response.data?.messages);\n            // }\n          }\n        })[\"catch\"](function (error) {\n          var _error$response;\n          var err = error === null || error === void 0 ? void 0 : error.response;\n          var errData = error === null || error === void 0 || (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data;\n          console.error(\"ERROR\", error);\n\n          // Handle specific errors based on status or error messages\n          if ((err === null || err === void 0 ? void 0 : err.status) === 401) {} else if ((err === null || err === void 0 ? void 0 : err.status) === 422) {\n            console.log(\"\".concat(error.response.data.errors));\n          } else {\n            console.log(\"An error occurred\");\n          }\n          reject(error); // Ensure the error is propagated\n        });\n      });\n    }\n\n    // Set the headers for request\n  }, {\n    key: \"setHeaders\",\n    value: function setHeaders(data) {\n      var headers = {\n        \"accept-language\": \"en\",\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: localStorage.getItem(\"token\")\n      };\n      if (data) {\n        if (data.isMultipart) {\n          headers[\"Content-Type\"] = \"multipart/form-data\";\n        }\n        if (data.headers) {\n          Object.assign(headers, data.headers);\n        }\n      }\n      return headers;\n    }\n  }]);\n}();\nexport default API;","map":{"version":3,"names":["axios","STATUS_CODE","BASE_URL","toast","METHOD","GET","POST","PUT","DELETE","API","_classCallCheck","isLoggedIn","userData","userToken","baseURL","_createClass","key","value","get","url","data","_this","Promise","resolve","reject","api","then","response","error","console","post","_this2","put","_this3","_delete","_this4","method","_this5","axiosConfig","headers","setHeaders","status","INTERNAL_SERVER_ERROR","_error$response","err","errData","log","concat","errors","Accept","Authorization","localStorage","getItem","isMultipart","Object","assign"],"sources":["/home/actimize/Music/render_deploy/app/javascript/API/API.js"],"sourcesContent":["import axios from \"axios\";\nimport { STATUS_CODE, BASE_URL } from \"./Constants\";\nimport { toast } from \"react-toastify\";\n\n// Request Methods\nconst METHOD = {\n  GET: \"get\",\n  POST: \"post\",\n  PUT: \"put\",\n  DELETE: \"delete\",\n};\n\n/*\n* API controller for handling the request\n*/\nclass API {\n  isLoggedIn = false;\n  userData = {};\n  userToken = null;\n\n  constructor() {\n    this.baseURL = BASE_URL;\n  }\n\n  get(url, data) {\n    return new Promise((resolve, reject) => {\n      this.api(METHOD.GET, url, data)\n        .then((response) => resolve(response))\n        .catch((error) => {\n          console.error(\"GET request error:\", error);\n          reject(error);\n        });\n    });\n  }\n\n  post(url, data) {\n    return new Promise((resolve, reject) => {\n      this.api(METHOD.POST, url, data)\n        .then((response) => resolve(response))\n        .catch((error) => {\n          console.error(\"POST request error:\", error);\n          reject(error);\n        });\n    });\n  }\n\n  put(url, data) {\n    return new Promise((resolve, reject) => {\n      this.api(METHOD.PUT, url, data)\n        .then((response) => resolve(response))\n        .catch((error) => {\n          console.error(\"PUT request error:\", error);\n          reject(error);\n        });\n    });\n  }\n\n  delete(url, data) {\n    return new Promise((resolve, reject) => {\n      this.api(METHOD.DELETE, url, data)\n        .then((response) => resolve(response))\n        .catch((error) => {\n          console.error(\"DELETE request error:\", error);\n          reject(error);\n        });\n    });\n  }\n\n  // Main function to hold the axios request params\n  api(method, url, data) {\n    return new Promise((resolve, reject) => {\n      let axiosConfig = {\n        method: method,\n        url: this.baseURL + url,\n        headers: this.setHeaders(data),\n      };\n\n      if (data) {\n        axiosConfig.data = data;\n      }\n\n      axios(axiosConfig)\n        .then((response) => {\n          if (response && response.status === STATUS_CODE.INTERNAL_SERVER_ERROR) {\n            toast.error(\"Something went wrong!!\");\n          } else {\n            resolve(response);\n            // Uncomment if you want to show a success toast\n            // if (response) {\n            //   toast.success(response.data?.messages);\n            // }\n          }\n        })\n        .catch((error) => {\n          let err = error?.response;\n          let errData = error?.response?.data;\n          console.error(\"ERROR\", error);\n\n          // Handle specific errors based on status or error messages\n          if (err?.status === 401) {\n            \n          } else if (err?.status === 422) {\n            console.log(`${error.response.data.errors}`);\n          } else {\n            console.log(\"An error occurred\");\n          }\n\n          reject(error);  // Ensure the error is propagated\n        });\n    });\n  }\n\n  // Set the headers for request\n  setHeaders(data) {\n    let headers = {\n      \"accept-language\": \"en\",\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: localStorage.getItem(\"token\"),\n    };\n\n    if (data) {\n      if (data.isMultipart) {\n        headers[\"Content-Type\"] = \"multipart/form-data\";\n      }\n      if (data.headers) {\n        Object.assign(headers, data.headers);\n      }\n    }\n\n    return headers;\n  }\n}\n\nexport default API;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}